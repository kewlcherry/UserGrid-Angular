<div class="content-page" ng-controller="GroupsMembersCtrl">


  <bsmodal id="removeFromGroup"
           title="Confirmation"
           close="hideModal"
           closelabel="Cancel"
           extrabutton="removeUsersFromGroupDialog"
           extrabuttonlabel="Delete"
           ng-cloak>
    <p>Are you sure you want to remove the users from the seleted group(s)?</p>
  </bsmodal>

  <bsmodal id="addGroupToUser"
           title="Add user to group"
           close="hideModal"
           closelabel="Cancel"
           extrabutton="addGroupToUserDialog"
           extrabuttonlabel="Add"
           ng-cloak>
    <div class="btn-group">
      <a class="btn dropdown-toggle filter-selector" data-toggle="dropdown">
        <span class="filter-label">{{$parent.user != '' ? $parent.user.username : 'Select a user...'}}</span>
        <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li ng-repeat="user in $parent.usersTypeaheadValues" class="filterItem"><a ng-click="$parent.$parent.user = user">{{user.username}}</a></li>
      </ul>
    </div>
  </bsmodal>


  <div class="button-strip">
    <button class="btn btn-primary" ng-click="showModal('addGroupToUser')">Add User to Group</button>
    <button class="btn btn-primary" ng-click="showModal('removeFromGroup')">Remove User(s) from Group</button>
  </div>
  <table class="table table-striped">
    <tr class="table-header">
      <td style="width: 30px;"><input type="checkbox" ng-click="checkAll()" ng-model="master"></td>
      <td style="width: 50px;"></td>
      <td>Username</td>
      <td>Display Name</td>
    </tr>
    <tr class="zebraRows" ng-repeat="user in groupsCollection.users._list">
      <td>
        <input
          type="checkbox"
          value="{{user.get('uuid')}}"
          ng-checked="master"
          ng-model="user.checked"
          >
      </td>
      <td><img style="width:30px;height:30px;" src="{{user._portal_image_icon}}"></td>
      <td>{{user.get('username')}}</td>
      <td>{{user.get('name')}}</td>
    </tr>
  </table>
  <div style="padding: 10px 5px 10px 5px">
    <button class="btn btn-primary" ng-click="getPrevious()" style="display:{{previous_display}}">< Previous</button>
    <button class="btn btn-primary" ng-click="getNext()" style="display:{{next_display}}; float:right;">Next ></button>
  </div>
</div>