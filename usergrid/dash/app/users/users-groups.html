<div class="content-page" ng-controller="UsersGroupsCtrl">

  <div ng:include="'users/users-tabs.html'"></div>

  <div>

    <bsmodal id="addUserToGroup"
             title="Add user to group"
             close="hideModal"
             closelabel="Cancel"
             extrabutton="addUserToGroupDialog"
             extrabuttonlabel="Add"
             ng-cloak>
      <div class="btn-group">
        <a class="btn dropdown-toggle filter-selector" data-toggle="dropdown">
          <span class="filter-label">{{$parent.name != '' ? $parent.name : 'Select a group...'}}</span>
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li ng-repeat="group in $parent.groupsTypeaheadValues" class="filterItem"><a ng-click="$parent.$parent.name = group.path">{{group.path}}</a></li>
        </ul>
      </div>
    </bsmodal>

    <bsmodal id="leaveGroup"
             title="Confirmation"
             close="hideModal"
             closelabel="Cancel"
             extrabutton="leaveGroupDialog"
             extrabuttonlabel="Leave"
             ng-cloak>
      <p>Are you sure you want to remove the user from the seleted group(s)?</p>
    </bsmodal>

    <div class="button-strip">
      <button class="btn btn-primary" ng-click="showModal('addUserToGroup')">Add to group</button>
      <button class="btn btn-primary" ng-click="showModal('leaveGroup')">Leave group(s)</button>
    </div>
    <table class="table table-striped">
      <tbody>
      <tr class="table-header">
        <td>
          <input type="checkbox" ng-click="checkAll()" ng-model="master">
        </td>
        <td>Group Name</td>
        <td>Path</td>
      </tr>
      <tr class="zebraRows" ng-repeat="group in groupsCollection._list">
        <td>
          <input
            type="checkbox"
            value="{{group.get('uuid')}}"
            ng-checked="master"
            ng-model="group.checked"
            >
        </td>
        <td>{{group.get('title')}}</td>
        <td>{{group.get('path')}}</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div style="padding: 10px 5px 10px 5px">
    <button class="btn btn-primary" ng-click="getPrevious()" style="display:{{previous_display}}">< Previous</button>
    <button class="btn btn-primary" ng-click="getNext()" style="display:{{next_display}}; float:right;">Next ></button>
  </div>

</div>